<link th:href="@{app/css/card-view.css}" rel="stylesheet"/>
	<div class="top-header scroller hidden-sm hidden-xs">
		<div class="container no-pad">
			<div class="hidden-xs">
				<div id="dm-app-header" class="toolbar-padding">
					<div class="dm-head-70pct">
						<h3 class="panel-title">									
								<ol class="breadcrumb hidden-xs">			
									<li>Administration</li>
									<!-- this should be a link back to the customer page, which is what happens on the customers.html page. but it's not working right now. instead, it redirects to the full page of customer cards. -->
									<li class="active">Dynamic Forms</li>
								</ol>
					</div>			    
				</div>
			</div>					
	    </div>
	</div><div class="dynamicFormDetails view">
    <div class="container">
    	<div class="col-xs-12">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Create new fields</h3>
				</div>
				<div class="panel-body">			
					Create new fields for your opportunities form
					 
					<button class="btn btn-default btn-skinny pull-right " type="button" ng-click="navigate('/createcustomfields')"><span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp;New Custom Field</button>
				</div>
			</div>
		</div>
    	<div class="col-xs-12">
    		<div class="panel panel-default">
    			<div class="panel-heading">
    				<h3 class="panel-title">Add a new field</h4>
    			</div>
    			<div class="panel-body">
				
        		<p>Select field type you want to add to the form below and click on 'Add Field' button. Don't forget to set field properties. After you finish creating the form, you can preview the form by clicking Preview Form button.</p>
  					<div class="form-fields" ng-hide="previewMode">
						<div class="add-field">
							<div class="col-xs-10">
							<select class="form-control" ng-model="addField.new" ng-options="type.name as type.value for type in addField.types"></select>
							</div>
							<div class="col-xs-2">
								<button type="submit" class="btn btn-default btn-skinny pull-left" ng-click="addNewField()"><span class="glyphicon glyphicon-plus"></span>&nbsp;&nbsp; Add Field</button>
							</div>
						</div>
					</div>
				</div>
			</div>
            <hr>

            <p ng-show="form.form_fields.length == 0">No fields added yet.</p>

            <div ng-repeat="field in form.form_fields">
            	<div class="panel panel-default">
            	<div class="panel-body">

	
				<div class="col-xs-12">
					<h4 style="padding-left:0px;">{{field.field_title}}</h4>
					<hr>
					<div class="col-xs-3">
						<p><strong>Field ID:</strong>&nbsp;&nbsp;{{field.field_id}}</p>
						<p><strong>Field Type:</strong>&nbsp;&nbsp;{{field.field_type}}</p>
						<br />
						<p><strong>Required:</p>
                    
                            <label>
                                <input type="radio" ng-value="true" ng-selected ng-model="field.field_required"/>
                                &nbsp; Yes
                            </label>
                            <label>
                                <input type="radio" ng-value="false" ng-model="field.field_required"/>
                                &nbsp; No
                            </label>
                    
						<br />
					</div>
					
					<div class="col-xs-3">
						<p><strong>Field Title:</strong></p>
						<input type="text" ng-model="field.field_title" value="{{field.field_title}}" />
					</div>
					<div class="col-xs-3">
						<p><strong>Field Default Value:</strong></p>
						<input type="text" ng-model="field.field_value" value="{{field.field_value}}" />
					</div>
                    <div class="col-xs-3">
						<p><strong>Placeholder Value:</strong></p>
                        <input type="text" ng-model="field.field_placeholder" value="{{field.field_placeholder}}" />
                    </div>
                    
                    <div class="row" ng-show="showAddOptions(field)">
                        <div class="col-xs-2">Field Options:</div>
                        <div class="col-xs-6">
                            <div ng-repeat="option in field.field_options">
                                <input type="text" ng-model="option.option_title" value="{{option.option_title}}">
                                <a class="btn btn-danger btn-mini right" type="button"
                                   ng-click="deleteOption(field, option)"><i class="icon-minus icon-white"></i></a>
                                <span class="label label-inverse">Value: {{ option.option_value }}</span>
                            </div>
                            <button class="btn btn-primary btn-small" type="button" ng-click="addOption(field)"><i
                                    class="icon-plus icon-white"></i> Add Option
                            </button>
                        </div>
                    </div>
                        
                    </div>
                    <hr>
                </div>
				
				<div id="update-buttons" class="col-xs-12">
	                <button class="btn btn-danger btn-skinny pull-left" type="button" ng-click="reset()"><span class="glyphicon glyphicon-refresh"></span>&nbsp;&nbsp; Reset</button>
	                <button class="btn btn-default btn-skinny pull-right" type="button" ng-click="submit()"><span class="glyphicon glyphicon-ok-sign"></span>&nbsp;Save and update</button>
	                <button class="btn btn-success btn-skinny pull-right" type="button" ng-click="previewModalOn()"><span class="glyphicon glyphicon-play"></span>&nbsp;&nbsp;Preview Form</button>
    	        </div>

            <br>
            <hr>
        </div>

        <div class="form-fields-preview" ng-show="previewMode">
            <form-directive form="previewForm" formData="previewData"></form-directive>

            <p class="text-center">
                <button class="btn btn-primary btn-large right" type="button" ng-click="previewOff()"><i
                        class="icon-arrow-left icon-white"></i> Back to Create Mode
                </button>
            </p>
        </div>
    </div>
</div>

