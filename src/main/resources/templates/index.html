<!DOCTYPE html PUBLIC "http://www.thymeleaf.org/dtd/xhtml11-thymeleaf-spring4-4.dtd">
<html data-ng-app="customersApp" data-ng-controller="ApplicationController" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thttp://www.thymeleaf.org/dtd/xhtml11-thymeleaf-spring4-4.dtd">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <title>Customer Relationship Manager</title>
    <link th:href="@{app/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{app/css/ng-grid.min.css}" rel="stylesheet"/>
    <link th:href="@{app/css/ng-quick-date.css}" rel="stylesheet"/>
    <link th:href="@{app/css/nv.d3.min.css}" rel="stylesheet"/>
    <link th:href="@{app/css/ng-tags-input.min.css}" rel="stylesheet"/>
    <link th:href="@{app/css/customerManagementStyles.css}" rel="stylesheet"/>

    <script>
        var dmApplicationEntryPoint = '//localhost:9090';

    </script>

    </head>
<body>
<!-- here's the drillMap navbar. -->
    <div class="navbar navbar-dm navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="hidden-xs">
				<div class="dm-head-3">
					<a href="#/" class="navbar-brand" style="padding:10px 0px 0px 15px;"><img th:src="@{app/img/dm-logo-alt.svg}" alt="logo" class="logo-image"></a>
				</div>
			</div>
			<div class="hidden-sm">
				<div class="dm-head-1">
					<a href="#/" class="navbar-brand hidden-xl hidden-lg hidden-md hidden-sm" style="padding:0;"><img th:src="@{app/img/dm-circle.svg}" alt="logo" class="logo-image-2"></a>
				</div>
			</div>
			<div class="dm-head-7 pull-right">
				<!-- regular navigation menu, hidden at 768px via .collapse tag -->
				<div class="collapse navbar-collapse pull-right">
					<ul class="nav navbar-nav">
						<li ng-class="{ active: isCurrentPath('/customers') }"><a href="#/customers">Customers</a></li>
						<li ng-class="{ active: isCurrentPath('/opportunities') }"><a href="#/opportunities">Opportunities</a></li>
						<li ng-class="{ active: isCurrentPath('/charts') }"><a href="#/charts">Reports</a></li>
		                <li class="dropdown" ng-class="{ active: isCurrentPath('/forms/create') }" >
            			        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administration <b class="caret"></b></a>
		                    <ul class="dropdown-menu" >
								<li><a href="#/forms/create">Dynamic Forms</a></li>
								<li class="divider"></li>
								<li><a href="#/admin/sales">Sales Person</a></li>
								<li><a href="#/admin/probability">Probability</a></li>
								<li><a href="#/admin/states">States</a></li>
		                    </ul>
		                </li>
		            </ul>
		        </div>
		    </div>
	    </div>
	</div>
	

	<!-- pushes all content down by 55px of padding so it isn't covered up by the navbar. -->	
	<div class="content-push">


    <div ng-if='!loadingDone' class="container">
        <!-- this is my loading div, it is taken out of the dom once everything is loaded! -->
        <h2><small>Loading:</small></h2>
        <div class="progress progress-striped active" ng-controller='LoadingController'>
            <div class="bar" style="width:{{percentDone}}%">
            </div>
        </div>
    </div>

    <div ng-if='loadingDone'>
        <!--
           this is my working div, it is inserted to  the dom once everything is loaded!
           By putting the ng-view in here, the routes only get fired AFTER I have
           done al off my initializations, and requests.
        -->
        <!-- Note that AngularJS has a built-in ng-animation direction. Left in animated-view to show a
              custom directive -->
        <ng-view></ng-view>
    </div>


    <div class="footer">
        <hr>
        <div class="col-xs-12">
        	<p class="muted pull-right">Â© 2014 drillMap. All rights reserved</p>
        </div>
    </div>

<!-- Vendor Libs: jQuery only used for Bootstrap functionality -->
<script th:src="@{app/lib/jquery.min.js}"></script>
<script th:src="@{app/lib/angular/angular.js}"></script>
<script th:src="@{app/lib/angular/angular-route.js}"></script>

<script th:src="@{app/lib/bootstrap-ui.js}"></script>

<script th:src="@{app/lib/ng-grid-2.0.8.debug.js}"></script>
<script th:src="@{app/lib/dynamic-forms.js}"></script>
<script th:src="@{app/lib/ng-infinite-scroll.js}"></script>
<script th:src="@{app/lib/ng-quick-date.js}"></script>
<script th:src="@{app/lib/d3.min.js}"></script>
<script th:src="@{app/lib/nv.d3.min.js}"></script>
<script th:src="@{app/lib/angular-nvd3.min.js}"></script>
<script th:src="@{app/lib/ng-tags-input.min.js}"></script>
<!-- application -->

<script th:src="@{app/js/app.js}"></script>
<script th:src="@{app/js/services/customerServices.js}"></script>
<script th:src="@{app/js/services/ajaxService.js}"></script>
<script th:src="@{app/js/services/chartService.js}"></script>
<script th:src="@{app/js/controllers/applicationController.js}"></script>
<script th:src="@{app/js/controllers/customerControllers.js}"></script>
<script th:src="@{app/js/controllers/contactControllers.js}"></script>
<script th:src="@{app/js/controllers/opportunityControllers.js}"></script>
<script th:src="@{app/js/controllers/chartsController.js}"></script>
<script th:src="@{app/js/filters/customerFilters.js}"></script>
<script th:src="@{app/js/directives/directives.js}"></script>

<!-- form builder/admin -->

<script th:src="@{app/js/controllers/formController.js}"></script>
<script th:src="@{app/js/services/formService.js}"></script>

<script th:src="@{app/js/controllers/salesPersonController.js}"></script>
<script th:src="@{app/js/controllers/stateController.js}"></script>
    <script th:src="@{app/js/controllers/probabilityController.js}"></script>
    <script th:src="@{app/js/controllers/statusController.js}"></script>


</body>

</html>